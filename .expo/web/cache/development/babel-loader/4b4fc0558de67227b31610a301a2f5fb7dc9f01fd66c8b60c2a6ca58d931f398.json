{"ast":null,"code":"import AsyncStorage from '@react-native-async-storage/async-storage';\nconst STORAGE_KEY = 'app-vb/tasks';\nexport async function loadTasks() {\n  try {\n    const json = await AsyncStorage.getItem(STORAGE_KEY);\n    if (!json) return null;\n    const parsed = JSON.parse(json);\n    if (Array.isArray(parsed)) {\n      return parsed.filter(t => t && typeof t.id === 'number' && typeof t.text === 'string' && typeof t.completed === 'boolean');\n    }\n    return null;\n  } catch (e) {\n    return null;\n  }\n}\nexport async function saveTasks(tasks) {\n  try {\n    const json = JSON.stringify(tasks);\n    await AsyncStorage.setItem(STORAGE_KEY, json);\n  } catch (e) {}\n}","map":{"version":3,"names":["AsyncStorage","STORAGE_KEY","loadTasks","json","getItem","parsed","JSON","parse","Array","isArray","filter","t","id","text","completed","e","saveTasks","tasks","stringify","setItem"],"sources":["/Users/Felipe/Documents/app-vb/app-vb/src/storage/tasksStorage.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Task } from '../types';\n\nconst STORAGE_KEY = 'app-vb/tasks';\n\nexport async function loadTasks(): Promise<Task[] | null> {\n  try {\n    const json = await AsyncStorage.getItem(STORAGE_KEY);\n    if (!json) return null;\n    const parsed: unknown = JSON.parse(json);\n    if (Array.isArray(parsed)) {\n      // Basic shape check\n      return parsed.filter(\n        (t: any) =>\n          t && typeof t.id === 'number' && typeof t.text === 'string' && typeof t.completed === 'boolean'\n      ) as Task[];\n    }\n    return null;\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function saveTasks(tasks: Task[]): Promise<void> {\n  try {\n    const json = JSON.stringify(tasks);\n    await AsyncStorage.setItem(STORAGE_KEY, json);\n  } catch (e) {\n    // noop\n  }\n}\n\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAGpE,MAAMC,WAAW,GAAG,cAAc;AAElC,OAAO,eAAeC,SAASA,CAAA,EAA2B;EACxD,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMH,YAAY,CAACI,OAAO,CAACH,WAAW,CAAC;IACpD,IAAI,CAACE,IAAI,EAAE,OAAO,IAAI;IACtB,MAAME,MAAe,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;IACxC,IAAIK,KAAK,CAACC,OAAO,CAACJ,MAAM,CAAC,EAAE;MAEzB,OAAOA,MAAM,CAACK,MAAM,CACjBC,CAAM,IACLA,CAAC,IAAI,OAAOA,CAAC,CAACC,EAAE,KAAK,QAAQ,IAAI,OAAOD,CAAC,CAACE,IAAI,KAAK,QAAQ,IAAI,OAAOF,CAAC,CAACG,SAAS,KAAK,SAC1F,CAAC;IACH;IACA,OAAO,IAAI;EACb,CAAC,CAAC,OAAOC,CAAC,EAAE;IACV,OAAO,IAAI;EACb;AACF;AAEA,OAAO,eAAeC,SAASA,CAACC,KAAa,EAAiB;EAC5D,IAAI;IACF,MAAMd,IAAI,GAAGG,IAAI,CAACY,SAAS,CAACD,KAAK,CAAC;IAClC,MAAMjB,YAAY,CAACmB,OAAO,CAAClB,WAAW,EAAEE,IAAI,CAAC;EAC/C,CAAC,CAAC,OAAOY,CAAC,EAAE,CAEZ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}